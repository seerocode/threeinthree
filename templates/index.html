<!DOCTYPE html>
<!--[if lte IE 6]><html class="preIE7 preIE8 preIE9"><![endif]-->
<!--[if IE 7]><html class="preIE8 preIE9"><![endif]-->
<!--[if IE 8]><html class="preIE9"><![endif]-->
<!--[if gte IE 9]><!--><html><!--<![endif]-->
  <head>
    <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>ThreeInThree - Find the top three cheap eats within three miles of your location!</title>
  <meta name="author" content="Ro">
  <meta name="description" content="ThreeInThree - Find the top three cheap eats within three miles of your location!">
  <meta name="keywords" content="keywords,here">
  <link rel='stylesheet' href='//fonts.googleapis.com/css?family=font1|font2|etc' type='text/css'>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
<script async defer
    src="https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyAn0pSQYUBCnxm-SrHjHSDZ6n7M_UJiojs"></script>
    
<script>
  // function askGeolocation(){  
//     // check if browser support geolocation
//     if (navigator.geolocation) {
//         // ask permission and take positions    
//         navigator.geolocation.getCurrentPosition(setLatLong);
//     } else { 
//         alert("Geolocation is not supported by your browser.");
//     }
// };

// function setLatLong(position){  
//     alert('Thanks for accepting geolocation! :)');

//     // save position
//     _userLat = position.coords.latitude;
//     _userLng = position.coords.longitude;

//     // we will check this function later
//     centerMap(_userLat, _userLng);    
// };
  
function success() {
  alert("Thanks for accepting geolocation! :)");
  console.log(position.coords.latitude, position.coords.longitude);
}
  
function error() {
  alert("Geolocation is not supported by your browser.");
}

navigator.geolocation.getCurrentPosition(success, error, {enableHighAccuracy:true,maximumAge:600000, timeout:10000});
// geocoder = new google.maps.Geocoder(); 

var win= function(position){ 
    userLat= position.coords.latitude; 
    userLong= position.coords.longitude; 
    var geocoder = new google.maps.Geocoder();
    var userZipCode = "";
  
    var userLatLong = new google.maps.userLatLng(userLat, userLong); 
    geocoder.geocode({'userLatLong': userLatLong}, function(results, status) { 
        if (status == google.maps.GeocoderStatus.OK) { 
            userZipCode = results[0].address_components.postal_code;
            alert("The user's zipcode is "+ userZipCode); }}); }; 
            $("#user_location").val(userZipCode);
var fail= function(e){alert("GPS Failed");}; 
</script>

<style type="text/css">

body {background: url('https://images.pexels.com/photos/349609/pexels-photo-349609.jpeg?w=940&h=650&auto=compress&cs=tinysrgb') no-repeat center center fixed;
    -webkit-background-size: cover;
    -moz-background-size: cover;
    background-size: cover;
    -o-background-size: cover;
    height:100%;
  }

    .control {
  margin-top: 60px;
}

  .footer {
    background-color: #fff;
  height: 50px;
color: #eee;
  }

</style>

<script type="text/javascript">
  var geo = navigator.geolocation;     /*     Here we will check if the browser supports the Geolocation API; if exists, then we will display the location     */    

function getLocation() {       
    if( geo ) {    
        geo.getCurrentPosition( displayLocation );       
           } 
           else  { alert( "Oops, Geolocation API is not supported");        
           }     
}         

/*     This function displays the latitude and longitude when the browser has a location.     */   

    function displayLocation( position ) {         
        var latitude = position.coords.latitude;        
        var longitude = position.coords.longitude;            
        var div = document.get_three.user_location;     
        div = latitude + ", " + longitude;    
                                } 
</script>
  
  </head>
  <body>

<nav class="navbar-fixed-top navbar-light bg-faded">
  <div class="container">
    <a class="navbar-brand" href="/">ThreeInThree</a> - Find the top three cheap eats within three miles of your location!
  </div>
</nav>

  <div class="container control">
    <div class="jumbotron welcome">
  <div class="row">
   <div class="col-md-12 col-sm-12 col-xs-12 text-center">
    <h2 style="color:#D32323">Got the munchies?</h2>
  <h4>Find the top places <strong style="color:blue">open now</strong> within 3 miles of you! Enter a location below and what you're in the mood for. Call 'em up and check 'em out.</h4>
  <hr>
    <form name="get_three" action="/run_get" onsubmit="return checkform()" method="GET">
     <div class="form-group ">
      <label class="control-label requiredField" for="user_location">
       <strong>What's your location?</strong>
       <span class="asteriskField">
        *
       </span>
      </label>
      <input class="form-control" id="user_location" name="user_location" placeholder="Please enter a zip code for more accuracy." type="text"/>
     </div>
     <div class="form-group ">
      <label class="control-label " for="user_term">
       <strong>What are you in the mood for?</strong>
      </label>
      <input class="form-control" id="user_term" name="user_term" placeholder="Example: pizza, chinese, thai, burger, etc." type="text"/>
      <span class="help-block" id="hint_user_term">
       Surprise you? OK! Leave this field blank.
      </span>
     </div>
     <div class="form-group">
      <div>
       <button class="btn btn-primary " name="submit" type="submit">
        Submit
       </button>
      </div>
     </div>
    </form>
   </div>
  </div>
 </div>
 </div>

  </body>
</html>
